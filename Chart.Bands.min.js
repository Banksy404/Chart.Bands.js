/*!
 * Chart.bands.js
 * Version: v0.2.0-rc
 *
 * Copyright 2016 BBC
 * Released under the MIT license
 * https://github.com/BBC/Chart.bands.js/blob/master/LICENSE.md
 */
!function e(r,o,t){function a(i,l){if(!o[i]){if(!r[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(n)return n(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=o[i]={exports:{}};r[i][0].call(f.exports,function(e){var o=r[i][1][e];return a(o?o:e)},f,f.exports,e,r,o,t)}return o[i].exports}for(var n="function"==typeof require&&require,i=0;i<t.length;i++)a(t[i]);return a}({1:[function(e,r,o){},{}],2:[function(e,r,o){function t(e,r,o,t){var i=r.getPixelForValue(t.yValue),l=t.bandLine;if("dashed"===l.type)for(var s=o.start;s<o.stop;s+=6)a(e,i,s,s+4,l.stroke,l.colour);else a(e,i,o.start,o.stop,l.stroke,l.colour);void 0!==l.label&&l.label.length>0&&n(e,l,{x:o.start,y:o.top-2*t.bandLine.fontSize})}function a(e,r,o,t,a,n){e.beginPath(),e.moveTo(o,r),e.lineTo(t,r),e.lineWidth=a,e.strokeStyle=n,e.stroke()}function n(e,r,o){if(e.font=c.fontString(r.fontSize,r.fontStyle,r.fontFamily),e.fillStyle=r.colour,e.fillText(r.label,o.x,o.y),"dashed"===r.type)for(var t=10;t<o.x-10;t+=6)a(e,o.y+.5*r.fontSize,t,t+4,r.stroke,r.colour);else a(e,o.y,10,o.x-10,r.stroke,r.colour)}function i(e,r,o,t,a,n){var i=r.getPixelForValue(n),l=e.createLinearGradient(0,o,0,0),s=1-i/o;try{return l.addColorStop(0,a),l.addColorStop(s,a),l.addColorStop(s,t),l.addColorStop(1,t),l}catch(c){return console.warn("ConfigError: Chart.Bands.js had a problem applying one or more colors please check that you have selected valid color strings"),t}}function l(e){return f[e]?void(u=f[e]):(console.warn("Warning: The Chart.Bands.js plugin is not supported with chart type "+e),void(d=!1))}var s=e("Chart");s="function"==typeof s?s:window.Chart;var c=s.helpers,f={bubble:"backgroundColor",line:"borderColor"},d=!0,u="borderColor";s.Bands=s.Bands||{};var h=(s.Bands.defaults={bands:{yValue:!1,bandLine:{stroke:.01,colour:"rgba(0, 0, 0, 1.000)",type:"solid",label:"",fontSize:"12",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontStyle:"normal"},baseColorGradientColor:["rgba(0, 255, 0, 1.000)"]}},s.PluginBase.extend({beforeInit:function(e){l(e.config.type)},afterScaleUpdate:function(e){var r,o,t=e.chart.ctx.canvas,a=c.configMerge(s.Bands.defaults.bands,e.options.bands);if("object"==typeof a.baseColorGradientColor&&a.baseColorGradientColor.length>0&&"number"==typeof a.yValue){if(d===!1)return;for(var n=0;n<e.chart.config.data.datasets.length;n++){if(r=e.chart.config.data.datasets[n][u],r instanceof CanvasGradient)return;o=i(t.getContext("2d"),e.scales["y-axis-0"],e.chart.height,r,a.baseColorGradientColor[n],a.yValue),e.chart.config.data.datasets[n][u]=o}}else console.warn("ConfigError: The Chart.Bands.js config seems incorrect")},afterDraw:function(e){var r=e.chart.ctx.canvas,o=c.configMerge(s.Bands.defaults.bands,e.options.bands);d!==!1&&("number"==typeof o.yValue?t(r.getContext("2d"),e.scales["y-axis-0"],{top:e.chartArea.top,start:e.chartArea.left,stop:e.chartArea.right},o):console.warn("ConfigError: The Chart.Bands.js plugin config requires a yValue"))}}));s.pluginService.register(new h)},{Chart:1}]},{},[2]);